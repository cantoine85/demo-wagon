<div>
  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#toDo" aria-controls="toDo" role="tab" data-toggle="tab">A vivre</a></li>
    <li role="presentation"><a href="#done" aria-controls="done" role="tab" data-toggle="tab">VÃ©cu</a></li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="toDo">
      <% if @to_do_experiences.present? %>
        <% @to_do_experiences.each do |experience| %>
          <%=render 'shared/list_item', experience: experience %>
          <div class="experience-details-card hidden" id="experience_<%=experience.id%>">
            <%= render 'shared/show_details', experience: experience %>
          </div>
        <% end %>
      <% end %>
    </div>
    <div role="tabpanel" class="tab-pane" id="done">

      <% if @done_experiences.present? %>
        <% @done_experiences.each do |experience| %>
          <hr>
          <h3>TODO</h3>
          <%=render 'shared/patchwork', experience: experience %>
        <% end %>
      <% else %>
        <h3>FAILED</h3>
      <% end %>
    </div>
  </div>
</div>

<%= content_for :after_js do %>
  <%= javascript_tag do %>
    $(document).ready(function() {
      $(".list-item").on("click", function(){
        var experienceId = $(this).data("target");
        var selector = "#experience_" + experienceId;
        $(selector).toggleClass("hidden");
      });
    });
  <% end %>
<% end %>
